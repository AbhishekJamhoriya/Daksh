(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{329:function(e,t,a){},572:function(e,t,a){},735:function(e,t,a){},739:function(e,t,a){"use strict";a.r(t),a.d(t,"history",(function(){return xa}));var n=a(0),r=a.n(n),c=a(25),s=a.n(c),i=a(38),o=a(48),l=a(507),d=a.n(l),u=a(82),j=a.n(u),h=a(94),b=a(256),p=a.n(b),m=a(491),O=a(492),x=a(35),f="AUTHENTICATED",g="UNAUTHENTICATED",v="REGISTRATION_SUCCESS_MESSAGE",y="REFRESH_TOKEN",w="IS_CHANGING_PASSWORD",S="CHANGE_PASSWORD_SUCCESS",_="CHANGE_PASSWORD_FAILURE",C={authenticated:!1,registration_message:""},T="User has been created successfully.";var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return{authenticated:!0,registration_message:""};case g:return{authenticated:!1,registration_message:""};case v:return Object(x.a)(Object(x.a)({},e),{},{registration_message:T});default:return e}},R={isChangingPassword:!1,err:null,resp_message:""},D="Password changed successfully.";var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(x.a)(Object(x.a)({},e),{},{isChangingPassword:!0,err:null});case S:return Object(x.a)(Object(x.a)({},e),{},{isChangingPassword:!1,resp_message:D});case _:return Object(x.a)(Object(x.a)({},e),{},{isChangingPassword:!1,err:t.err,resp_message:""});default:return e}},N={};var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;return"FETCH_SENSORS"==t.type?Object(x.a)(Object(x.a)({},e),t.payload):e},A={username:"",parent_name:"",is_root:"",is_admin:"",is_manager:"",is_staff:"",is_approved:""};var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;return"ADD_CURRENT_USER"==t.type?{username:t.payload.username,parent_name:t.payload.parent_name,is_root:t.payload.is_root,is_admin:t.payload.is_admin,is_manager:t.payload.is_manager,is_staff:t.payload.is_staff,is_approved:t.payload.is_approved}:e},F=Object(h.combineReducers)({auth:E,change_password:k,sensor:P,curr_user:I}),W=a(47),q=a(29),L=a.n(q),H="http://10.107.4.13:8000",M=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H;function B(){return localStorage.removeItem("jwt_token"),{type:g}}var U=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H;var V,z=[function(e){var t=e.dispatch;return e.getState,function(e){return function(a){if("function"===typeof a||a.type===y){if(localStorage.getItem("jwt_token")&&localStorage.length>0){var n=p()(localStorage.getItem("jwt_token")).exp,r=n-Math.round((new Date).getTime()/1e3),c=localStorage.getItem("jwt_token");return n&&r<=0?(xa.push("/login"),localStorage.removeItem("jwt_token"),t(B()),e(a)):n&&r<=1800?fetch("".concat(U,"/auth/jwt/refresh/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:c},body:JSON.stringify({token:c})}).then((function(e){return e.json()})).then((function(e){localStorage.setItem("jwt_token",e.token)})).then((function(){return e(a)})):e(a)}return e(a)}return e(a)}}},O.a],Y=Object(h.createStore)(F,Object(m.composeWithDevTools)(h.applyMiddleware.apply(void 0,z)));if(navigator.cookieEnabled&&(V=localStorage.getItem("jwt_token")),V){var K=p()(V).exp,J=Math.round((new Date).getTime()/1e3);K&&K-J>0&&Y.dispatch({type:"AUTHENTICATED"})}var G=a(3),X=function(){return!!localStorage.getItem("jwt_token")},Q=function(e){for(var t=e.component,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return Object(G.jsx)(o.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return X()?Object(G.jsx)(t,Object(x.a)({},e)):Object(G.jsx)(o.a,{to:{pathname:"/login"}})}}))},Z=function(e){for(var t=e.component,a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];return Object(G.jsx)(o.b,Object(x.a)(Object(x.a)({},n),{},{render:function(e){return X()?Object(G.jsx)(o.a,{to:{pathname:"/"}}):Object(G.jsx)(t,Object(x.a)({},e))}}))},$=a(20),ee=a(7),te=a(8),ae=a(79);a(496),a(495);var ne=a.p+"static/media/Daksh-Logo.94fb6ec4.png",re=a(52),ce=a(488),se=(a(338),a(251),a(439)),ie=(a(811),a(812),a(125)),oe=(a(813),a(440)),le=a(438),de=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H)+"/user",ue=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL,Object(le.a)({root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}));var je=function(e){var t=ue(),a=(Object(o.g)(),t.bullet,Object(i.e)((function(e){return e.curr_user}),i.c)),c=Object(i.d)(),s=r.a.useState(null),l=Object(te.a)(s,2),d=(l[0],l[1],Object(n.useState)([])),u=Object(te.a)(d,2),h=(u[0],u[1]),b=Object(n.useState)(0),p=Object(te.a)(b,2),m=(p[0],p[1],Object(n.useState)(0)),O=Object(te.a)(m,2),x=O[0],f=(O[1],Object(n.useState)(!1)),g=Object(te.a)(f,2),v=g[0],y=g[1],w=Object(n.useState)(!0),S=Object(te.a)(w,2),_=(S[0],S[1],Object(n.useState)(!0)),C=Object(te.a)(_,2),T=(C[0],C[1]),E=Object(n.useState)(!0),R=Object(te.a)(E,2),D=(R[0],R[1]);a.is_approved,console.log(a);var k=function(){y(!v)},N=function(){if(window.innerWidth<=989)return k()},P=function(){if(a.is_approved)return a.is_admin?Object(G.jsx)(ce.a,{label:"Admin",style:{marginLeft:"5px"},color:"secondary"}):a.is_staff?Object(G.jsx)(ce.a,{label:"Site Admin",style:{marginLeft:"5px",backgroundColor:"#008000",color:"#FFFFFF"}}):Object(G.jsx)(ce.a,{label:"Viewer",style:{marginLeft:"5px"},color:"primary"})};return Object(n.useEffect)(Object(W.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(D(!0),!e.authenticated){t.next=8;break}return a="".concat(de,"/name/"),t.next=5,j.a.get(a,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}});case 5:n=t.sent,c({type:"ADD_CURRENT_USER",payload:n.data}),D(!1);case 8:case"end":return t.stop()}}),t)}))),[e.authenticated]),Object(n.useEffect)(Object(W.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T(!0),!e.authenticated){t.next=8;break}return a="".concat(de,"/approval/"),t.next=5,j.a.get(a,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}});case 5:n=t.sent,h(Object($.a)(n.data)),T(!1);case 8:e.refreshToken(),setInterval((function(){e.refreshToken()}),9e5);case 10:case"end":return t.stop()}}),t)}))),[x,e.authenticated]),Object(G.jsx)(G.Fragment,{children:Object(G.jsx)("div",{children:Object(G.jsxs)(re.g,{color:"faded",className:"navbar navbar-toggleable-md navbar-inverse ",expand:"md",style:{height:"6vh",backgroundColor:"#001f29"},children:[Object(G.jsx)(re.h,{href:"/",children:Object(G.jsx)("img",{style:{width:"150px",height:"30px",backgroundColor:"white"},src:ne})}),Object(G.jsx)(re.i,{onClick:function(){k()}}),Object(G.jsx)(re.a,{isOpen:v,navbar:!0,style:{width:"auto",marginLeft:"auto",marginRight:".5rem"},children:Object(G.jsxs)(re.d,{navbar:!0,children:[Object(G.jsx)(re.e,{children:Object(G.jsx)(re.f,{tag:ae.b,to:"/",activeClassName:"active",exact:!0,onClick:N,children:"Home"})}),function(){if(!e.authenticated)return Object(G.jsx)(G.Fragment,{})}(),function(){if(e.authenticated)return Object(G.jsx)("div",{children:Object(G.jsxs)(re.j,{nav:!0,className:"nav-item dropdown",children:[Object(G.jsx)(re.c,{nav:!0,caret:!0,className:"nav-link",style:{color:"white"},children:"Account"}),Object(G.jsxs)(re.b,{className:"dropdown-menu",style:Object(ee.a)({backgroundColor:"black",width:"200px",marginLeft:"-2rem"},"marginLeft","-6rem"),children:[Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)("span",{children:Object(G.jsxs)(re.f,{onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:[a.username,P()]})},"home")}),Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)("span",{onClick:e.logoutAction,children:Object(G.jsx)(re.f,{tag:ae.b,to:"/signout",onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:"Log out"})},"signout")}),Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)("a",{href:"http://localhost:3000/report/",target:"_blank",style:{color:"white",marginLeft:"9px",fontSize:"14px",textDecoration:"none"},children:"Generate Report"})}),a.is_admin||a.is_manager?Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)(re.f,{tag:ae.b,to:"/register",onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:"Create User"})}):null,Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)(re.f,{tag:ae.b,to:"/manage-schedule",onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:"Schedules"})}),Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)(re.f,{tag:ae.b,to:"/alarm-graph",onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:"Alarm Graph"})}),Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)(re.f,{tag:ae.b,to:"/alarm-history",onClick:N,style:{color:"white",margin:"0px",fontSize:"14px"},children:"Alarm History"})}),a.is_admin?Object(G.jsx)(oe.a,{variant:"outlined",style:{height:"40px",margin:"5px"},children:Object(G.jsx)("a",{href:H+"/admin/",target:"_blank",style:{color:"white",marginLeft:"9px",fontSize:"14px",textDecoration:"none"},children:"Admin Panel"})}):null]})]},"email-auth")})}()]})})]})})})};var he=Object(o.h)(Object(i.b)((function(e){return{authenticated:e.auth.authenticated}}),(function(e){return{logoutAction:function(){return e(B())},refreshToken:function(){return e({type:y})}}}))(je)),be=a(837),pe=(a(572),a.p+"static/media/WelcomeScreen.9aca2e7a.png"),me=a(282),Oe=a.n(me),xe=a(499),fe=a.n(xe),ge=a(498),ve=a.n(ge),ye=a(497),we=a.n(ye),Se=a(285),_e=Object(le.a)({home:{height:"94vh",width:"100vw",display:"flex",backgroundColor:"#001f29"},root:{},iframe:{position:"absolute",width:"100%",height:"100%"},container:{scrollbarWidth:"none",width:"auto",backgroundColor:"#001f29",margin:"0.5rem",paddingRight:"1rem",overflowY:"auto"},toggle:{width:"150px",height:"45px","background-color":"transparent",borderRadius:"12px 12px 12px 12px",color:"#ffffff",border:"1px solid #001f29",cursor:"pointer",background:"linear-gradient(to right, DodgerBlue 50%, transparent 50%)",backgroundSize:"200% 100%",backgroundPosition:"right bottom",transition:"all .5s ease-out",display:"flex",justifyContent:"start",alignItems:"center",textAlign:"center",fontVariantCaps:"all-petite-caps",flexDirection:"row-reverse","&:hover":{backgroundPosition:"left bottom"}}}),Ce=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H)+"/sensor",Te=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H)+"/user",Ee=function(e){var t=e.registration_message,a=_e(),r=(Object(i.d)(),Object(i.e)((function(e){return e.auth.authenticated}))),c=Object(n.useState)(""),s=Object(te.a)(c,2),o=(s[0],s[1],Object(n.useState)({username:"",parent_name:"",is_root:"",is_admin:"",is_staff:"",is_manager:"",is_approved:""})),l=Object(te.a)(o,2),d=l[0],u=l[1],h=Object(n.useState)(!1),b=Object(te.a)(h,2),p=(b[0],b[1]),m=Object(n.useState)(!1),O=Object(te.a)(m,2),x=(O[0],O[1]),f=Object(n.useState)(0),g=Object(te.a)(f,2),v=g[0],y=(g[1],Object(n.useState)({is_admin:!1,is_root:!1,is_manager:!1,is_staff:!1})),w=Object(te.a)(y,2),S=(w[0],w[1],Object(n.useState)("")),_=Object(te.a)(S,2),C=(_[0],_[1],Object(n.useState)([])),T=Object(te.a)(C,2),E=T[0],R=T[1],D=Object(n.useState)(0),k=Object(te.a)(D,2),N=(k[0],k[1],Object(n.useState)(!0)),P=Object(te.a)(N,2),A=P[0],I=P[1],F=Object(n.useState)(!1),q=Object(te.a)(F,2),H=(q[0],q[1]),M=Object(n.useState)(!1),B=Object(te.a)(M,2),U=B[0],V=B[1],z=Object(n.useState)(!1),Y=Object(te.a)(z,2),K=(Y[0],Y[1]),J=Object(n.useState)(""),X=Object(te.a)(J,2),Q=X[0],Z=X[1],$=Object(n.useState)(!1),ee=Object(te.a)($,2),ae=ee[0],ne=ee[1],re=Object(Se.b)();Object(n.useEffect)((function(){d.is_approved?(x(!1),p(!1)):d.is_admin||d.is_manager||d.is_staff?(p(!0),x(!1)):(x(!0),p(!1))}),[A]),Object(n.useEffect)(Object(W.a)(L.a.mark((function e(){var t,a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I(!0),!r){e.next=11;break}return t="".concat(Te,"/name/"),e.next=5,j.a.get(t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}});case 5:a=e.sent,u({username:a.data.username,parent_name:a.data.parent_name,is_admin:a.data.is_admin,is_root:a.data.is_root,is_manager:a.data.is_manager,is_staff:a.data.is_staff,is_approved:a.data.is_approved}),I(!1),K(!0),(n=localStorage.getItem("stateSelected"))?handleStateSelected({target:{value:n}}):K(!1);case 11:case"end":return e.stop()}}),e)}))),[v,r]),Object(n.useEffect)(Object(W.a)(L.a.mark((function e(){var t,a,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H(!0),t="".concat(Ce,"/sensors/"),e.next=4,j.a.get(t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}}).catch((function(e){return console.log(e)}));case 4:(a=e.sent)?(n=a.data,R(n)):R([]),H(!1),V(!0);case 8:case"end":return e.stop()}}),e)}))),[v,r]);var ce=function(){ne(!ae),0==ae&&(document.getElementById("datalist").style.display="none",document.getElementById("dashboard").style.width="2.7rem",document.getElementById("imagediv").style.width="100vw",document.getElementById("heading").style.display="none"),1==ae&&(document.getElementById("datalist").style.display="flex",document.getElementById("dashboard").style.width="auto",document.getElementById("heading").style.display="block")};return Object(G.jsxs)("div",{children:[t&&Object(G.jsx)("div",{className:"alert alert-info text-center mt-4",role:"alert",children:Object(G.jsx)("strong",{children:t})}),!A&&Object(G.jsxs)("div",{className:a.home,children:[function(){var e=E.filter((function(e){return 0==e.depth}));return Object(G.jsxs)("div",{className:a.container,id:"dashboard",children:[Object(G.jsxs)("div",{className:"expandicondiv",children:[Object(G.jsx)("h4",{id:"heading",style:{textAlign:"center",marginBottom:"10px",color:"white",fontVariant:"all-petite-caps"},children:"Dashboard"}),Object(G.jsxs)("button",{className:"expandbtn",onClick:ce,children:[1==ae&&Object(G.jsx)(ve.a,{}),0==ae&&Object(G.jsx)(fe.a,{})]})]}),Object(G.jsx)("div",{id:"datalist",children:e.map((function(t,n){var r=E.filter((function(e){return e.parent_id==t.id}));return Object(G.jsxs)("div",{className:"level1",children:[Object(G.jsxs)("label",{for:"btn-"+n+1,className:a.toggle,onClick:function(e){Z(t.content_url)},children:[t.sensor_name,Object(G.jsx)(Oe.a,{className:0==r.length?"arrowlevel3":"arrow"})]}),Object(G.jsx)("input",{className:"dashboardinput",type:"checkbox",id:"btn-"+n+1}),Object(G.jsx)("ul",{className:"level2",children:r.map((function(t,n){var c=E.filter((function(e){return e.parent_id==t.id}));return Object(G.jsxs)("li",{children:[Object(G.jsx)("li",{style:{marginTop:"5px"},children:Object(G.jsxs)("label",{for:"btn-"+n+1+r.length+e.length+c.length,className:a.toggle,onClick:function(e){return Z(t.content_url)},children:[t.sensor_name,Object(G.jsx)(Oe.a,{className:0==c.length?"arrowlevel3":"arrow"})]})}),Object(G.jsx)("input",{className:"dashboardinput",type:"checkbox",id:"btn-"+n+1+r.length+e.length+c.length}),Object(G.jsx)("ul",{className:"level3",children:c.map((function(e,t){return Object(G.jsx)("li",{style:{display:"flex",alignItems:"center"},children:Object(G.jsxs)("label",{className:a.toggle,onClick:function(t){return Z(e.content_url)},children:[e.sensor_name,Object(G.jsx)(Oe.a,{className:"arrowlevel3"})]})})}))})]})}))})]})}))})]})}(),Object(G.jsxs)("div",{handle:re,fixed:!0,style:{height:"94vh",width:"100vw",position:"relative"},id:"imagediv",children:[U&&0==E.length&&Object(G.jsx)(be.a,{severity:"info",children:"No sensors in this topic"}),!U&&0==E.length&&Object(G.jsx)(be.a,{severity:"info",children:"Please select a topic"}),""!=Q&&Object(G.jsx)(Se.a,{handle:re,className:a.iframe,children:Object(G.jsx)("iframe",{id:"iframe-content",src:Q,frameBorder:"0"})}),""==Q&&Object(G.jsx)(Se.a,{handle:re,className:a.iframe,children:Object(G.jsx)("img",{src:pe,style:{width:"100%",height:"100%"}})}),Object(G.jsx)("div",{className:"screensize",children:Object(G.jsxs)("div",{className:"screensizediv",children:[Object(G.jsx)("h6",{className:"tooltips",children:"Full screen "}),Object(G.jsx)("button",{className:"screensizebtn",onClick:re.enter,children:Object(G.jsx)(we.a,{className:"screensizeicon",fontSize:"large"})})]})})]})]})]})},Re=Object(i.b)((function(e){return{registration_message:e.auth.registration_message}}))(Ee),De=a(27),ke=a(26),Ne=a(37),Pe=a(51),Ae=a(134),Ie=a(43),Fe=a(740),We=a(814),qe=a(148),Le=a(815),He=a(330),Me=a(816),Be=a(460),Ue=a(169),Ve=a(459),ze=(a(329),function(e){Object(Ne.a)(a,e);var t=Object(Pe.a)(a);function a(){return Object(De.a)(this,a),t.apply(this,arguments)}return Object(ke.a)(a,[{key:"componentDidMount",value:function(){fetch("".concat(H,"/report/start-scheduler/")).then((function(e){return e.json()})).then((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props,t=e.values,a=e.touched,n=e.errors,r=(e.dirty,e.isSubmitting),c=e.handleChange,s=e.handleBlur,i=e.handleSubmit,o=(e.handleReset,e.classes);return Object(G.jsx)(We.a,{theme:Object(qe.b)({palette:{primary:Ue.a,secondary:Ve.a}}),children:Object(G.jsx)("div",{className:"loginpage",children:Object(G.jsx)(Le.a,{component:"main",maxWidth:"xs",className:"logindiv",children:Object(G.jsx)(He.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:Object(G.jsxs)("div",{className:"loginlogodiv",children:[Object(G.jsxs)("div",{className:"loginanddakshlogo",children:[Object(G.jsx)(ie.a,{variant:"h5",component:"h1",color:"primary",children:"Login"}),Object(G.jsx)("img",{src:ne,style:{height:"35px"}})]}),Object(G.jsx)(He.a,{component:"form",onSubmit:i,noValidate:!0,sx:{mt:1},children:Object(G.jsxs)(Me.a,{container:!0,spacing:4,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{variant:"outlined",name:"username",type:"text",fullWidth:!0,value:t.username,onChange:c,onBlur:s,error:n.username&&a.username,helperText:n.username&&a.username&&n.username,label:"Username"})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{fullWidth:!0,variant:"outlined",name:"password",type:"password",value:t.password,onChange:c,onBlur:s,error:n.password&&a.password,helperText:n.password&&a.password&&n.password,label:"Password"})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(oe.a,{variant:"contained",fullWidth:!0,className:"signinbtn",color:"primary",type:"submit",disabled:r,style:{height:"3rem"},children:"Sign in"})})]})}),Object(G.jsx)("div",{className:o.container})]})})})})})}}]),a}(n.Component)),Ye=Object(Ae.a)({mapPropsToValues:function(){return{username:"",password:""}},validationSchema:Ie.a().shape({username:Ie.c().required("This field is required"),password:Ie.c().min(4,"The password must be at least 4 characters").required("Password is required")}),handleSubmit:function(e,t){var a=e.username,n=e.password,r=t.props,c=t.setSubmitting,s=t.setErrors;r.loginAction({username:a,password:n}).then((function(e){e.non_field_errors?s({password:e.non_field_errors[0]}):r.authenticateAction(e,r.dispatch,r.location.pathname,r.history.push)})),c(!1)},displayName:"LoginForm"})(ze),Ke=Object(Fe.a)((function(e){return{container:{display:"flex",flexDirection:"column",flexWrap:"wrap",textAlign:"center",marginTop:"2em"},textField:{marginLeft:"auto",marginRight:"auto",marginBottom:"40px",width:"60%"},button:{marginLeft:"auto",marginRight:"auto",marginTop:"30px",marginBottom:"3em",width:"10%"},links:{alignSelf:"center"}}}))(Ye),Je=Object(i.b)(null,(function(e){return{loginAction:function(t){return e(function(e){return Object(W.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(M,"/auth/jwt/create/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))}(t))},authenticateAction:function(e,t,a,n){return t(function(e,t,a,n){return Object(W.a)(L.a.mark((function r(){return L.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return navigator.cookieEnabled&&localStorage.setItem("jwt_token",e.token),"/login"===a&&n("/"),r.abrupt("return",t({type:f}));case 3:case"end":return r.stop()}}),r)})))}(e,t,a,n))},dispatch:e}}))(Ke),Ge=a(176),Xe=a(341),Qe=a(342),Ze=a(347),$e=function(e){return{container:{display:"flex",flexDirection:"column",flexWrap:"wrap",textAlign:"center",marginTop:"2em"},textField:{marginLeft:"auto",marginRight:"auto",marginBottom:"40px",width:"60%"},button:{marginLeft:"auto",marginRight:"auto",marginTop:"30px",marginBottom:"3em",width:"10%"},links:{alignSelf:"center"}}},et=a(123);a(331);et.a.configure();var tt=Object(Ae.a)({mapPropsToValues:function(){return{username:"",email:"",password1:"",password2:""}},validationSchema:Ie.a().shape({username:Ie.c().required("Username is required"),password1:Ie.c().min(4,"The password must be at least 4 characters").required("Password is required"),password2:Ie.c().oneOf([Ie.b("password1"),null],"Passwords don't match.").required("Password confirm is required"),email:Ie.c().email("Invalid Email Address").required("Email is required")}),handleSubmit:function(e,t){var a=e.username,n=e.email,r=e.password1,c=t.props,s=t.setSubmitting,i=t.setErrors;c.registerAction({username:a,email:n,password:r}).then((function(e){var t;e.non_field_errors||Array.isArray(e.username)||Array.isArray(e.email)||Array.isArray(e.password)?i(e):(t="User created successfully",et.a.success(t))})),s(!1)},displayName:"RegistrationForm"})((function(e){var t=Object(o.g)(),a=Object(n.useState)("employee"),r=Object(te.a)(a,2),c=r[0],s=r[1],l=Object(n.useState)("test1"),d=Object(te.a)(l,2),u=d[0],j=d[1],h=Object(i.e)((function(e){return e.curr_user}),i.c),b=e.values,p=e.touched,m=e.errors,O=(e.dirty,e.isSubmitting),x=e.handleChange,f=e.handleBlur,g=e.handleSubmit,v=(e.handleReset,e.classes,function(){var e="admin"==c,a="employee"==c,n="manager"==c,r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:u,is_admin:e,is_manager:n,is_staff:a})};fetch("".concat("http://10.107.4.13:8000","/user/role/"),r).then((function(e){return e.json()})),t.push("/")}),y=function(){j(b.username)},w=function(){return Object(G.jsx)(Le.a,{component:"main",maxWidth:"xs",children:Object(G.jsx)(He.a,{sx:{px:3,display:"flex",flexDirection:"column",alignItems:"center"},style:{height:"89vh"},children:Object(G.jsxs)(Me.a,{container:!0,spacing:2,alignItems:"center",children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(ie.a,{variant:"h4",color:"error",align:"center",children:"Unable to Access"})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(oe.a,{color:"primary",align:"center",variant:"outlined",fullWidth:!0,to:"/",component:ae.a,children:"Go back"})})]})})})};return h.is_admin||h.is_manager||h.is_root?Object(G.jsx)(We.a,{theme:Object(qe.b)({palette:{primary:Ue.a,secondary:Ve.a}}),children:Object(G.jsx)("div",{style:{backgroundColor:"rgb(6, 58, 92)",height:"94vh",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(G.jsx)(Le.a,{component:"main",maxWidth:"xs",children:Object(G.jsx)(Ge.a,{elevation:3,children:Object(G.jsxs)(He.a,{sx:{px:3,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(G.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(G.jsx)(ie.a,{variant:"h5",color:"primary",style:{width:"100%",marginTop:"1rem"},children:"Create A User"}),Object(G.jsx)("div",{container:!0,style:{width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(G.jsx)("img",{src:ne,style:{height:"40px"}})})]})," ",Object(G.jsx)(He.a,{}),Object(G.jsx)(He.a,{sx:{mb:2},children:Object(G.jsx)("form",{onSubmit:g,children:Object(G.jsxs)(Me.a,{container:!0,spacing:3,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{name:"username",type:"text",fullWidth:!0,variant:"outlined",value:b.username,onChange:x,onBlur:f,error:m.username&&p.username,helperText:m.username&&p.username&&m.username,label:"Username",required:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{name:"email",type:"text",fullWidth:!0,variant:"outlined",value:b.email,onChange:x,onBlur:f,error:m.email&&p.email,helperText:m.email&&p.email&&m.email,label:"Email Address",required:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{name:"password1",type:"password",fullWidth:!0,variant:"outlined",value:b.password1,onChange:x,onBlur:f,error:m.password1&&p.password1,helperText:m.password1&&p.password1&&m.password1,label:"Password",required:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(Be.a,{fullWidth:!0,variant:"outlined",name:"password2",type:"password",value:b.password2,onChange:x,onBlur:f,error:m.password2&&p.password2,helperText:m.password2&&p.password2&&m.password2,label:"Repeat your Password",required:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsxs)(Xe.a,{fullWidth:!0,children:[Object(G.jsx)(Qe.a,{id:"demo-simple-select-label",children:"Role"}),Object(G.jsxs)(Ze.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",defaultValue:"",label:"role",onChange:function(e){y(),s(e.target.value)},children:[Object(G.jsx)(se.a,{value:"employee",children:"Employee"}),Object(G.jsx)(se.a,{value:"manager",children:"Manager"}),Object(G.jsx)(se.a,{value:"admin",children:"Admin"})]})]})}),Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(oe.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",disabled:O,onClick:function(){setTimeout(v,1500)},children:"Submit"})})]})})})]})})})})}):Object(G.jsx)(w,{})})),at=Object(Fe.a)($e)(tt);var nt=Object(i.b)(null,(function(e){return{registerAction:function(t){return e(function(e){return Object(W.a)(L.a.mark((function t(){var a,n;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(M,"/auth/users/create/"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:return a=t.sent,n=a.json(),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})))}(t))},registrationSuccessMessage:function(){return e({type:v})},dispatch:e}}))(at),rt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H;var ct=function(e){Object(Ne.a)(a,e);var t=Object(Pe.a)(a);function a(){return Object(De.a)(this,a),t.apply(this,arguments)}return Object(ke.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.touched,n=e.errors,r=e.dirty,c=e.isSubmitting,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit,l=e.handleReset,d=e.classes,u=e.change_password;return Object(G.jsxs)("span",{className:d.container,children:[Object(G.jsx)("h3",{style:{textAlign:"center"},children:"Change Your Password"}),u.resp_message&&Object(G.jsx)("div",{className:"alert alert-success",role:"alert",children:Object(G.jsx)("strong",{children:u.resp_message})}),u.err&&Object(G.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(G.jsx)("strong",{children:u.err.message})}),Object(G.jsxs)("form",{onSubmit:o,children:[Object(G.jsx)(Be.a,{name:"current_password",type:"password",value:t.current_password,onChange:s,onBlur:i,error:n.current_password&&a.current_password,helperText:n.current_password&&a.current_password&&n.current_password,label:"Old Password",className:d.textField}),Object(G.jsx)(Be.a,{name:"new_password",type:"password",value:t.new_password,onChange:s,onBlur:i,error:n.new_password&&a.new_password,helperText:n.new_password&&a.new_password&&n.new_password,label:"New Password",className:d.textField}),Object(G.jsx)(Be.a,{name:"re_new_password",type:"password",value:t.re_new_password,onChange:s,onBlur:i,error:n.re_new_password&&a.re_new_password,helperText:n.re_new_password&&a.re_new_password&&n.re_new_password,label:"Repeat New Password",className:d.textField}),Object(G.jsx)("br",{}),Object(G.jsx)(oe.a,{variant:"raised",className:d.button,type:"button",onClick:l,disabled:!r||c,children:"Reset"}),Object(G.jsx)(oe.a,{variant:"raised",className:d.button,type:"submit",disabled:c,children:"Submit"})]})]})}}]),a}(n.Component),st=Object(Ae.a)({mapPropsToValues:function(){return{current_password:"",new_password:"",re_new_password:""}},validationSchema:Ie.a().shape({current_password:Ie.c().min(4,"This field must be at least 4 characters").required("This field is required"),new_password:Ie.c().min(4,"The password must be at least 4 characters").required("New Password is required"),re_new_password:Ie.c().oneOf([Ie.b("new_password"),null],"Passwords don't match.").required("Password confirm is required")}),handleSubmit:function(e,t){var a=e.current_password,n=e.new_password,r=e.re_new_password,c=t.props,s=t.setSubmitting,i=(t.setErrors,t.resetForm);c.changePassword({current_password:a,new_password:n,re_new_password:r}).then((function(){return window.scrollTo(0,0)})).then((function(){return i()})),s(!1)},displayName:"ChangePasswordForm"})(ct),it=Object(Fe.a)($e)(st),ot=Object(i.b)((function(e){return{change_password:e.change_password}}),(function(e){return{changePassword:function(t){return e(function(e){return function(){var t=Object(W.a)(L.a.mark((function t(a){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:w}),t.next=4,j.a.post("".concat(rt,"/auth/password/"),e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}}).catch((function(e){return console.log(e)}));case 4:if(t.sent){t.next=7;break}throw new Error("Invalid credentials, please try again.");case 7:return t.abrupt("return",a({type:S}));case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",a((n=t.t0,{type:_,err:n})));case 13:case"end":return t.stop()}var n}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(it),lt=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_DEV_URL||H;var dt=function(e){Object(Ne.a)(a,e);var t=Object(Pe.a)(a);function a(){return Object(De.a)(this,a),t.apply(this,arguments)}return Object(ke.a)(a,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.touched,n=e.errors,r=e.dirty,c=e.isSubmitting,s=e.handleChange,i=e.handleBlur,o=e.handleSubmit,l=e.sendCode,d=e.handleReset,u=e.classes,j=e.reset_password;return Object(G.jsxs)("span",{className:u.container,children:[Object(G.jsx)("h3",{style:{textAlign:"center"},children:"Reset Your Password"}),j.resp_message&&Object(G.jsx)("div",{className:"alert alert-success",role:"alert",children:Object(G.jsx)("strong",{children:j.resp_message})}),j.err&&Object(G.jsx)("div",{className:"alert alert-danger",role:"alert",children:Object(G.jsx)("strong",{children:j.err.message})}),Object(G.jsxs)("form",{onSubmit:o,children:[Object(G.jsx)(Be.a,{name:"email",type:"email",value:t.email,onChange:s,onBlur:i,error:n.email&&a.email,helperText:n.email&&a.email&&n.email,label:"Registered Email",className:u.textField}),Object(G.jsx)(Be.a,{name:"code",type:"code",value:t.code,onChange:s,onBlur:i,error:n.code&&a.code,helperText:n.code&&a.code&&n.code,label:"Verification Code",className:u.textField}),Object(G.jsx)(oe.a,{variant:"raised",className:u.button,type:"submit",disabled:c,onClick:l,children:"Send code"}),Object(G.jsx)(Be.a,{name:"new_password",type:"password",value:t.new_password,onChange:s,onBlur:i,error:n.new_password&&a.new_password,helperText:n.new_password&&a.new_password&&n.new_password,label:"New Password",className:u.textField}),Object(G.jsx)(Be.a,{name:"re_new_password",type:"password",value:t.re_new_password,onChange:s,onBlur:i,error:n.re_new_password&&a.re_new_password,helperText:n.re_new_password&&a.re_new_password&&n.re_new_password,label:"Repeat New Password",className:u.textField}),Object(G.jsx)("br",{}),Object(G.jsx)(oe.a,{variant:"raised",className:u.button,type:"button",onClick:d,disabled:!r||c,children:"Reset"}),Object(G.jsx)(oe.a,{variant:"raised",className:u.button,type:"submit",disabled:c,children:"Submit"})]})]})}}]),a}(n.Component),ut=Object(Ae.a)({mapPropsToValues:function(){return{email:"",code:"",new_password:"",re_new_password:""}},validationSchema:Ie.a().shape({email:Ie.c().min(4,"This field must be at least 4 characters").required("This field is required"),code:Ie.c().min(4,"This field must be at least 4 characters").required("This field is required"),new_password:Ie.c().min(4,"The password must be at least 4 characters").required("New Password is required"),re_new_password:Ie.c().oneOf([Ie.b("new_password"),null],"Passwords don't match.").required("Password confirm is required")}),sendCode:function(e,t){var a=e.email,n=t.props;t.setSubmitting,t.setErrors,t.resetForm;n.sendCode({email:a}).then((function(){return window.scrollTo(0,0)}))},handleSubmit:function(e,t){var a=e.email,n=e.code,r=e.new_password,c=e.re_new_password,s=t.props,i=t.setSubmitting,o=(t.setErrors,t.resetForm);s.resetPassword({email:a,code:n,new_password:r,re_new_password:c}).then((function(){return window.scrollTo(0,0)})).then((function(){return o()})),i(!1)},displayName:"ResetPasswordForm"})(dt),jt=Object(Fe.a)($e)(ut),ht=Object(i.b)((function(e){return{reset_password:e.reset_password}}),(function(e){return{resetPassword:function(t){return e(function(e){return function(){var t=Object(W.a)(L.a.mark((function t(a){return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"IS_RESETING_PASSWORD"}),t.next=4,j.a.post("".concat(lt,"/auth/resetpassword/"),e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("jwt_token"))}}).catch((function(e){return console.log(e)}));case 4:if(t.sent.ok){t.next=7;break}throw new Error("Invalid credentials, please try again.");case 7:return t.abrupt("return",a({type:"RESET_PASSWORD_SUCCESS"}));case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",a({type:"RESET_PASSWORD_FAILURE",err:t.t0}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(jt),bt=a(818),pt=a(823),mt=a(819),Ot=a(479),xt=a(472),ft=a(841),gt=a(120),vt=a.n(gt),yt=a(283),wt=a(461),St=function(){var e=Object(n.useState)("energyReport"),t=Object(te.a)(e,2),a=t[0],r=t[1],c=Object(n.useRef)(""),s=Object(n.useRef)(""),i=Object(n.useRef)(""),o=Object(n.useRef)(" "),l=Object(n.useRef)([]),d=Object(n.useRef)([]),u=Object(n.useRef)([]),j=Object(n.useRef)(""),h=Object(n.useRef)(""),b=Object(n.useState)([]),p=Object(te.a)(b,2),m=p[0],O=p[1],x=Object(n.useState)(!1),f=Object(te.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)([]),w=Object(te.a)(y,2),S=w[0],_=w[1],C=H,T=[{title:"ID",field:"id",headerName:"ID",width:90},{title:"Code",field:"code"}],E=[{title:"ID",field:"id",headerName:"ID",width:90},{title:"DEVICE",field:"Device"},{title:"CHANNEL",field:"Channel"}];Object(n.useEffect)((function(){fetch("".concat(C,"/report/get-devices/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){var t=[];e.list[0].map((function(e,a){t.push({id:a+1,code:e})})),console.log(t),O(t)})),fetch("".concat(C,"/report/get-devices/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=[],a=1;e.list[0].map((function(n,r){e.list[1].map((function(e,r){t.push({id:a,Device:n,Channel:e}),a+=1}))})),_(t)}))}),[]);var R=[],D=function(){if(console.log("selectedRow",j),0==l.current.length)_t("Please select atleast one channel to generate a report");else if(""==j.current||""==h.current)""!=h.current?_t("Start Date not selected"):""!=j.current?_t("End Date not selected"):_t("Date not selected");else{v(!0),l.current.forEach((function(e){return R.push(e.code)}));var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:a,start_date:c.current,end_date:s.current,start_time:i.current,end_time:o.current,selected_rows:l.current})};console.log(e),fetch("".concat(C,"/report/getreport/"),e).then((function(e){return e.blob()})).then((function(e){Object(yt.saveAs)(e,"Energy Report.xlsx"),v(!1)}))}},k=function(){if(0===l.current.length)_t("Please select atleast one channel to generate a report");else if(""==j.current||""==h.current)""!=h.current?_t("Start Date not selected"):""!=j.current?_t("End Date not selected"):_t("Date not selected");else{v(!0);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:a,start_date:c.current,end_date:s.current,start_time:i.current,end_time:o.current,selected_rows:l.current})};console.log(e),fetch("".concat(C,"/report/getreport/"),e).then((function(e){return e.blob()})).then((function(e){Object(yt.saveAs)(e," Raw_Data_Report.csv"),v(!1)}))}},N=function(){if(0===l.current.length)_t("Please select atleast one channel to generate a report");else if(""==j.current||""==h.current)""!=h.current?_t("Start Date not selected"):""!=j.current?_t("End Date not selected"):_t("Date not selected");else{v(!0);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:a,start_date:c.current,end_date:s.current,start_time:i.current,end_time:o.current,selected_rows:l.current})};console.log(e),fetch("".concat(C,"/report/getreport/"),e).then((function(e){return e.blob()})).then((function(e){Object(yt.saveAs)(e,"Historical Report.pdf"),v(!1)}))}};function P(e){c.current=e.target.value.split("T")[0],i.current=e.target.value.split("T")[1],j.current=e.target.value}function A(e){s.current=e.target.value.split("T")[0],o.current=e.target.value.split("T")[1],h.current=e.target.value}function I(e){"Energy Data"==e.title?l.current=d.current:l.current=u.current,console.log(e.title,l.current);var t=Object(qe.b)({palette:{primary:{main:"#1e90ff"},secondary:{main:"#1e90ff"}}});return Object(G.jsx)("div",{style:{height:"auto",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(G.jsx)("div",{style:{width:"100%"},children:Object(G.jsx)(We.a,{theme:t,children:Object(G.jsx)(vt.a,{title:e.title,data:e.rows,columns:e.columns,options:{selection:!0,headerStyle:{backgroundColor:"#1e90ff",color:"#FFF"}},onSelectionChange:function(t){l.current=t,"Energy Data"==e.title?d.current=t:u.current=t}})})})})}var F=function(){return Object(G.jsxs)(bt.a,{open:g,"aria-labelledby":"simple-dialog-title",children:[Object(G.jsx)(pt.a,{id:"simple-dialog-title",children:"Generating the report"}),Object(G.jsx)(mt.a,{style:{paddingLeft:"40%"},children:Object(G.jsx)(wt.a,{})})]})},W=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(F,{}),Object(G.jsxs)(Me.a,{container:!0,spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(I,{title:"Raw Data",columns:E,rows:S})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date",label:"Start Date",type:"datetime-local",defaultValue:j.current,onChange:P,variant:"outlined",InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date2",label:"End Date",type:"datetime-local",defaultValue:h.current,variant:"outlined",onChange:A,InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(Be.a,{label:"Report Type",defaultValue:"CSV",variant:"outlined",disabled:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:12}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{fullWidth:!0,variant:"contained",style:{backgroundColor:"#1e90ff",color:"whitesmoke"},onClick:k,children:"Get Report"})})]})]})},q=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(F,{}),Object(G.jsxs)(Me.a,{container:!0,spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(I,{title:"History Statistics",columns:E,rows:S})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date",label:"Start Date",type:"datetime-local",defaultValue:j.current,variant:"outlined",onChange:P,InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date2",label:"End Date",type:"datetime-local",defaultValue:h.current,variant:"outlined",onChange:A,InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(Be.a,{label:"Report Type",defaultValue:"PDF",variant:"outlined",disabled:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{fullWidth:!0,variant:"contained",style:{backgroundColor:"#1e90ff",color:"whitesmoke"},onClick:N,children:"Get Report"})})]})]})},L=function(){return Object(G.jsxs)("div",{children:[Object(G.jsx)(F,{}),Object(G.jsxs)(Me.a,{container:!0,spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(I,{title:"Energy Data",rows:m,columns:T})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date",label:"Start Date",type:"datetime-local",defaultValue:j.current,variant:"outlined",onChange:P,InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(Be.a,{id:"date2",label:"End Date",type:"datetime-local",defaultValue:h.current,variant:"outlined",onChange:A,InputLabelProps:{shrink:!0}})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(Be.a,{label:"Report Type",defaultValue:"EXCEL",variant:"outlined",disabled:!0})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{fullWidth:!0,variant:"contained",style:{backgroundColor:"#1e90ff",color:"whitesmoke"},onClick:D,children:"Get Report"})})]})]})},M=function(){switch(a){case"rawData":return Object(G.jsx)(W,{});case"energyReport":return Object(G.jsx)(L,{});case"historyReport":return Object(G.jsx)(q,{});default:return null}};return Object(G.jsx)("div",{style:{backgroundColor:"rgb(6, 58, 92)",height:"auto",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(G.jsx)(Le.a,{maxWidth:"md",component:"main",children:Object(G.jsx)(Ge.a,{elevation:2,children:Object(G.jsxs)(He.a,{sx:{px:2,py:1,mx:2,mb:2,display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(Me.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(ie.a,{variant:"h5",color:"primary",children:"Generate report"})}),Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)("img",{src:ne,style:{height:"35px"}})})]}),Object(G.jsxs)(Me.a,{container:!0,children:[Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(ie.a,{variant:"h6",style:{opacity:"0.5",margin:"15px"},children:"Report Type"})}),Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ot.a,{row:!0,name:"position",defaultValue:"energyReport",onChange:function(e){r(e.target.value)},children:[Object(G.jsx)(xt.a,{value:"historyReport",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Historical Report",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"rawData",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Raw Data",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"energyReport",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Energy Report",labelPlacement:"bottom",size:"small"})]})})]}),Object(G.jsx)(M,{})]})})})})};et.a.configure();var _t=function(e){et.a.error(e)};Object(le.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},searchfield:{width:"50%",marginRight:"1rem",fontSize:10},timefield:{marginRight:"1.5rem"},report_type:{width:"8rem"}}}));var Ct=a(824),Tt=a(465),Et=a(124),Rt=a.n(Et);et.a.configure();var Dt=function(e){et.a.success(e)},kt=r.a.forwardRef((function(e,t){return Object(G.jsx)(be.a,Object(x.a)({elevation:6,ref:t,variant:"filled"},e))}));var Nt=function(e){var t=Object(o.g)(),a=Object(n.useState)(e.report),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)(e.freq),l=Object(te.a)(i,2),d=l[0],u=l[1],j=Object(n.useState)(e.schedule),h=Object(te.a)(j,2),b=h[0],p=h[1],m=Object(n.useState)([]),O=Object(te.a)(m,2),x=O[0],f=O[1],g=Object(n.useState)([]),v=Object(te.a)(g,2),y=v[0],w=v[1],S=Object(n.useRef)([]),_=Object(n.useRef)([]),C=Object(n.useState)(e.freqNum),T=Object(te.a)(C,2),E=T[0],R=T[1],D=Object(n.useState)(e.scheduleNum),k=Object(te.a)(D,2),N=k[0],P=k[1],A=Object(n.useState)([]),I=Object(te.a)(A,2),F=I[0],W=I[1],q=Object(n.useState)(e.time),L=Object(te.a)(q,2),M=L[0],B=L[1],U=Object(n.useState)(e.day),V=Object(te.a)(U,2),z=V[0],Y=V[1],K=Object(n.useState)(e.date),J=Object(te.a)(K,2),X=J[0],Q=J[1],Z=H,$=Object(n.useState)(!1),ee=Object(te.a)($,2),ae=ee[0],re=ee[1],ce=Object(n.useState)(!1),le=Object(te.a)(ce,2),de=le[0],ue=le[1],je=Object(n.useState)(!1),he=Object(te.a)(je,2),be=he[0],pe=he[1],me=Object(n.useState)(!1),Oe=Object(te.a)(me,2),xe=Oe[0],fe=Oe[1],ge=Object(n.useState)(!1),ve=Object(te.a)(ge,2),ye=ve[0],we=ve[1],Se=Object(n.useState)(!1),_e=Object(te.a)(Se,2),Ce=_e[0],Te=_e[1],Ee=[{title:"ID",field:"id",headerName:"ID",width:90},{title:"Code",field:"code"}],Re=[{title:"ID",field:"id",headerName:"ID",width:90},{title:"DEVICE",field:"Device"},{title:"CHANNEL",field:"Channel"}],De="set how many "+("weekly"==d?"weeks":"months")+" after which you get the report",ke=("weekly"==d?"weeks":"months")+" for which you need report";function Ne(){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:c,frequency:d,schedule:b,frequency_num:E,schedule_num:N,recipient_list:_.current,rows_list:S.current,time:M,day:z,date:X})};if(E<1||null==d)re(!0);else if(N<1||null==b)ue(!0);else if(_.current.length<1)pe(!0);else if(S.current.length<1)fe(!0);else if("monthly"!=d||null!=X&&""!=X)if("weekly"!=d||null!=z&&""!=z){if(console.log("req",a),console.log("req",a),console.log(e.isModified),e.isModified){console.log("true");var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_rows:e.selectedScheduleRows})};return fetch("".concat(Z,"/report/get-schedule/"),n).then(fetch("".concat(Z,"/report/schedule-report/"),a)).then(t.push("/")),void Dt("Modified Successfully ")}fetch("".concat(Z,"/report/schedule-report/"),a).then(t.push("/")),Dt("Scheduled Successfully ")}else we(!0);else Te(!0)}function Pe(){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:c,frequency:d,schedule:b,frequency_num:E,schedule_num:N,recipient_list:_.current,rows_list:S.current,time:M,day:z,date:X})};if(E<1||null==d)re(!0);else if(N<1||null==b)ue(!0);else if(_.current.length<1)pe(!0);else if(S.current.length<1)fe(!0);else if("monthly"!=d||null!=X&&""!=X)if("weekly"!=d||null!=z&&""!=z){if(e.isModified){console.log("YEsw");var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_rows:e.selectedScheduleRows})};return fetch("".concat(Z,"/report/get-schedule/"),n).then(fetch("".concat(Z,"/report/schedule-report/"),a)).then(t.push("/")),void Dt("Modified Successfully ")}fetch("".concat(Z,"/report/schedule-report/"),a).then(t.push("/")),Dt("Scheduled Successfully ")}else we(!0);else Te(!0)}function Ae(){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({report:c,frequency:d,schedule:b,frequency_num:E,schedule_num:N,recipient_list:_.current,rows_list:S.current,time:M,day:z,date:X})};if(E<1||null==d)re(!0);else if(N<1||null==b)ue(!0);else if(_.current.length<1)pe(!0);else if(S.current.length<1)fe(!0);else if("monthly"!=d||null!=X&&""!=X)if("weekly"!=d||null!=z&&""!=z){if(console.log("req",a),e.isModified){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_rows:e.selectedScheduleRows})};return fetch("".concat(Z,"/report/get-schedule/"),n).then(fetch("".concat(Z,"/report/schedule-report/"),a)).then(t.push("/")),void Dt("Modified Successfully ")}fetch("".concat(Z,"/report/schedule-report/"),a).then(t.push("/")),Dt("Scheduled Successfully ")}else we(!0);else Te(!0)}var Ie=function(e){S.current=e,console.log(S.current)},Fe=function(e,t){"clickaway"!==t&&re(!1)},Ue=function(e,t){"clickaway"!==t&&ue(!1)},Ve=function(e,t){"clickaway"!==t&&pe(!1)},ze=function(e,t){"clickaway"!==t&&fe(!1)},Ye=function(e,t){"clickaway"!==t&&Te(!1)},Ke=function(e,t){"clickaway"!==t&&we(!1)},Je=function(e){B(e.target.value)},$e=function(e){Y(e.target.value)},et=function(e){Q(e.target.value)};Object(n.useEffect)((function(){fetch("".concat(Z,"/report/get-devices/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=[];if(t.list[0].map((function(e,t){a.push({id:t+1,code:e})})),e.highlightedEnergyRows.length>0)for(var n=0;n<e.highlightedEnergyRows.length;n++)for(var r=e.highlightedEnergyRows[n].id,c=e.highlightedEnergyRows[n].tableData,s=0;s<a.length;s++)a[s].id==r&&(a[s].tableData=c);f(a)})),fetch("".concat(Z,"/report/get-devices/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=[],n=1;if(t.list[0].map((function(e,r){t.list[1].map((function(t,r){a.push({id:n,Device:e,Channel:t}),n+=1}))})),e.highlightedRawHistoricalReportRows.length>0)for(var r=0;r<e.highlightedRawHistoricalReportRows.length;r++)for(var c=e.highlightedRawHistoricalReportRows[r].id,s=e.highlightedRawHistoricalReportRows[r].tableData,i=0;i<a.length;i++)a[i].id==c&&(a[i].tableData=s);w(a)})),console.log("hello there"),fetch("".concat(Z,"/user/getusers/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){var a=t.list;if(e.highlightedRecipient.length>0)for(var n=0;n<e.highlightedRecipient.length;n++)for(var r=e.highlightedRecipient[n].email,c=e.highlightedRecipient[n].tableData,s=0;s<a.length;s++)r==a[s].email&&(a[s].tableData=c);W(a)})),S.current="energyReport"==e.report?e.highlightedEnergyRows:e.highlightedRawHistoricalReportRows,_.current=e.highlightedRecipient}),[]);var tt=function(){return Object(G.jsx)(He.a,{sx:{minWidth:150},style:{display:"flex"},children:Object(G.jsx)(Be.a,{id:"time",type:"time",variant:"outlined",value:M,onChange:Je})})},at=function(){return Object(G.jsxs)(He.a,{sx:{minWidth:100},style:{display:"flex"},children:[Object(G.jsx)(Me.a,{xs:3,children:Object(G.jsxs)(Xe.a,{fullWidth:!0,children:[Object(G.jsx)(Qe.a,{id:"dayid",children:"Day"}),Object(G.jsx)(Ze.a,{labelId:"dayid",id:"day",defaultValue:null,label:"Day",variant:"outlined",value:z,onChange:$e,children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((function(e,t){return Object(G.jsx)(se.a,{value:e,children:e})}))})]})}),Object(G.jsx)(Me.a,{xs:4,children:Object(G.jsx)(Be.a,{id:"time",variant:"outlined",type:"time",value:M,onChange:Je})})]})},nt=function(){for(var e=Rt()().daysInMonth(),t=[],a=1;a<=e;a++)t[a-1]=a;return Object(G.jsxs)(He.a,{sx:{minWidth:100},style:{display:"flex"},children:[Object(G.jsx)(Me.a,{xs:3,children:Object(G.jsx)(Xe.a,{fullWidth:!0,children:Object(G.jsx)(Be.a,{labelId:"monthid",id:"month",type:"date",variant:"outlined",value:X,onChange:et})})}),Object(G.jsx)(Me.a,{xs:6,children:Object(G.jsx)(Be.a,{id:"time",variant:"outlined",type:"time",value:M,onChange:Je})})]})},rt=function(){switch(d){case"daily":return Object(G.jsx)(tt,{});case"weekly":return Object(G.jsx)(at,{});case"monthly":return Object(G.jsx)(nt,{});default:return null}};function ct(e){var t=Object(qe.b)({palette:{primary:{main:"#1e90ff"},secondary:{main:"#1e90ff"}}});return Object(G.jsx)("div",{style:{height:"auto",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:Object(G.jsx)("div",{style:{width:"100%",height:"50%"},children:Object(G.jsx)(We.a,{theme:t,children:Object(G.jsx)(vt.a,{title:e.title,data:e.rows,columns:e.columns,options:{selection:!0,headerStyle:{backgroundColor:"#1e90ff",color:"#FFF"}},onSelectionChange:function(t){e.handleSelectionChange(t)}})})})})}var st=function(){return Object(G.jsx)("div",{style:{marginTop:"1%"},children:Object(G.jsxs)(Me.a,{container:!0,spacing:3,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(ct,{rows:y,columns:Re,title:"Energy Report",handleSelectionChange:Ie})}),Object(G.jsx)(Me.a,{item:!0,xs:5}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:Ae,children:"Set Mail"})}),Object(G.jsx)(Me.a,{item:!0,xs:5})]})})},it=function(){return Object(G.jsx)("div",{style:{marginTop:"1%"},children:Object(G.jsxs)(Me.a,{container:!0,spacing:3,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(ct,{rows:y,columns:Re,title:"Energy Report",handleSelectionChange:Ie})}),Object(G.jsx)(Me.a,{item:!0,xs:5}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{color:"primary",fullWidth:!0,variant:"contained",onClick:Pe,children:"Set Mail"})}),Object(G.jsx)(Me.a,{item:!0,xs:5})]})})},ot=function(){return Object(G.jsx)("div",{style:{marginTop:"1%"},children:Object(G.jsxs)(Me.a,{container:!0,spacing:3,children:[Object(G.jsx)(Me.a,{item:!0,xs:12,children:Object(G.jsx)(ct,{rows:x,columns:Ee,title:"Energy Report",handleSelectionChange:Ie})}),Object(G.jsx)(Me.a,{item:!0,xs:5}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(oe.a,{color:"primary",variant:"contained",onClick:Ne,children:"Set Mail"})}),Object(G.jsx)(Me.a,{item:!0,xs:5})]})})},lt=function(){switch(c){case"rawData":return Object(G.jsx)(st,{});case"energyReport":return Object(G.jsx)(ot,{});case"historyReport":return Object(G.jsx)(it,{});default:return null}};return Object(G.jsxs)("div",{style:{backgroundColor:"rgb(6, 58, 92)"},children:[Object(G.jsx)(Le.a,{maxWidth:"lg",component:"main",children:Object(G.jsx)(Ge.a,{elevation:2,children:Object(G.jsxs)(He.a,{sx:{p:2,display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(Me.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(ie.a,{variant:"h5",color:"primary",children:e.isModified?"Modify a schedule":"Make a schedule"})}),Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)("img",{src:ne,style:{height:"40px"}})})]}),Object(G.jsxs)(Me.a,{container:!0,style:{marginTop:"1%"},children:[Object(G.jsx)(Me.a,{item:!0,xs:1,children:Object(G.jsx)(ie.a,{variant:"h6",style:{opacity:"0.5"},children:"Report Type"})}),Object(G.jsx)(Me.a,{item:!0,xs:11,children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ot.a,{row:!0,name:"position",defaultValue:e.report,onChange:function(e){s(e.target.value)},children:[Object(G.jsx)(xt.a,{value:"historyReport",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"History Report",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"rawData",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Raw Data",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"energyReport",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Energy Report",labelPlacement:"bottom",size:"small"})]})})})]}),Object(G.jsxs)(Me.a,{container:!0,spacing:2,style:{marginTop:"1%"},children:[Object(G.jsxs)(Me.a,{item:!0,container:!0,xs:6,spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(ie.a,{variant:"h6",style:{position:"relative",top:"30%",opacity:"0.5"},children:"Frequency"})}),Object(G.jsx)(Me.a,{item:!0,xs:6,children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ot.a,{row:!0,name:"position",defaultValue:e.freq,onChange:function(e){u(e.target.value)},children:[Object(G.jsx)(xt.a,{value:"daily",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Daily",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"weekly",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Weekly",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"monthly",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Monthly",labelPlacement:"bottom"})]})})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:"daily"!=d?Object(G.jsx)(Tt.a,{title:De,children:Object(G.jsx)(Be.a,{type:"number",variant:"outlined",label:"Every",style:{position:"relative",top:"10%"},value:E,onChange:function(e){R(e.target.value)}})}):null})]}),Object(G.jsxs)(Me.a,{item:!0,container:!0,xs:6,spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,xs:2,children:Object(G.jsx)(ie.a,{variant:"h6",style:{position:"relative",top:"30%",opacity:"0.5"},children:"Duration"})}),Object(G.jsx)(Me.a,{item:!0,xs:6,children:Object(G.jsx)(Xe.a,{children:Object(G.jsxs)(Ot.a,{row:!0,name:"position",defaultValue:e.schedule,onChange:function(e){p(e.target.value)},children:[Object(G.jsx)(xt.a,{value:"day",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Day",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"week",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Week",labelPlacement:"bottom"}),Object(G.jsx)(xt.a,{value:"month",control:Object(G.jsx)(ft.a,{color:"primary"}),label:"Month",labelPlacement:"bottom"})]})})}),Object(G.jsx)(Me.a,{item:!0,xs:2,children:"day"!=b?Object(G.jsx)(Tt.a,{title:ke,children:Object(G.jsx)(Be.a,{type:"number",variant:"outlined",label:"Last",value:N,style:{position:"relative",top:"10%"},onChange:function(e){P(e.target.value)}})}):null})]}),Object(G.jsx)(Me.a,{item:!0,xs:1,children:null!=d?Object(G.jsx)(ie.a,{variant:"h6",style:{position:"relative",top:"30%",opacity:"0.5"},children:"Send at"}):null}),Object(G.jsx)(Me.a,{item:!0,xs:5,children:Object(G.jsx)(rt,{})}),Object(G.jsx)(Me.a,{item:!0,xs:6}),Object(G.jsx)(Me.a,{item:!0,xs:1}),Object(G.jsx)(Me.a,{item:!0,xs:9,children:Object(G.jsx)(ct,{title:"Send mail to",rows:F,columns:[{title:"Name",field:"name"},{title:"Email",field:"email"}],handleSelectionChange:function(e){_.current=e,console.log("recipents",_.current)}})})]}),Object(G.jsx)(lt,{})]})})}),Object(G.jsx)(Ct.a,{open:ae,autoHideDuration:5e3,onClose:Fe,children:Object(G.jsx)(kt,{onClose:Fe,severity:"error",children:"Set proper frequency"})}),Object(G.jsx)(Ct.a,{open:de,autoHideDuration:5e3,onClose:Ue,children:Object(G.jsx)(kt,{onClose:Ue,severity:"error",children:"Set proper Duration"})}),Object(G.jsx)(Ct.a,{open:be,autoHideDuration:5e3,onClose:Ve,children:Object(G.jsx)(kt,{onClose:Ve,severity:"error",children:"Select atleast one user"})}),Object(G.jsx)(Ct.a,{open:xe,autoHideDuration:5e3,onClose:ze,children:Object(G.jsx)(kt,{onClose:ze,severity:"error",children:"Select atleast one Device or Channel"})}),Object(G.jsx)(Ct.a,{open:ye,autoHideDuration:5e3,onClose:Ke,children:Object(G.jsx)(kt,{onClose:Ke,severity:"error",children:"Select A day"})}),Object(G.jsx)(Ct.a,{open:Ce,autoHideDuration:5e3,onClose:Ye,children:Object(G.jsx)(kt,{onClose:Ye,severity:"error",children:"Select a date"})})]})},Pt=r.a.forwardRef((function(e,t){return Object(G.jsx)(be.a,Object(x.a)({elevation:6,ref:t,variant:"filled"},e))}));var At=function(){var e=Object(n.useState)([]),t=Object(te.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),s=Object(te.a)(c,2),i=s[0],l=s[1],d=Object(o.g)(),u=Object(n.useState)(!0),j=Object(te.a)(u,2),h=j[0],b=j[1],p=Object(n.useState)(!1),m=Object(te.a)(p,2),O=m[0],x=m[1],f=Object(n.useState)("energyReport"),g=Object(te.a)(f,2),v=g[0],y=g[1],w=Object(n.useState)("daily"),S=Object(te.a)(w,2),_=S[0],C=S[1],T=Object(n.useState)("day"),E=Object(te.a)(T,2),R=E[0],D=E[1],k=Object(n.useState)([]),N=Object(te.a)(k,2),P=N[0],A=N[1],I=Object(n.useState)([]),F=Object(te.a)(I,2),W=F[0],q=F[1],L=Object(n.useState)([]),M=Object(te.a)(L,2),B=M[0],U=M[1],V=Object(n.useState)(1),z=Object(te.a)(V,2),Y=z[0],K=z[1],J=Object(n.useState)(1),X=Object(te.a)(J,2),Q=X[0],Z=X[1],$=Object(n.useState)("12:00"),ee=Object(te.a)($,2),ae=ee[0],re=ee[1],ce=Object(n.useState)(""),se=Object(te.a)(ce,2),le=se[0],de=se[1],ue=Object(n.useState)(),je=Object(te.a)(ue,2),he=je[0],be=je[1],pe=Object(n.useState)(""),me=Object(te.a)(pe,2),Oe=me[0],xe=me[1],fe=Object(n.useState)(!1),ge=Object(te.a)(fe,2),ve=ge[0],ye=ge[1],we=Object(n.useState)(!1),Se=Object(te.a)(we,2),_e=Se[0],Ce=Se[1],Te=H,Ee=function(e,t){"clickaway"!==t&&ye(!1)},Re=function(e,t){"clickaway"!==t&&Ce(!1)};Object(n.useEffect)((function(){fetch("".concat(Te,"/report/get-schedule/"),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){r(e.list)}))}),[]);var De=Object(qe.b)({palette:{primary:{main:"#1e90ff"},secondary:{main:"#1e90ff"}}});return h?Object(G.jsx)(We.a,{theme:De,children:Object(G.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"94vh",backgroundColor:"rgb(6,58,92)"},children:[Object(G.jsx)(Le.a,{maxWidth:"md",component:"main",style:{backgroundColor:"white"},children:Object(G.jsxs)(He.a,{sx:{p:2,alignItems:"space-between",display:"flex",flexDirection:"column"},children:[Object(G.jsxs)(Me.a,{container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(ie.a,{variant:"h5",color:"primary",children:"Manage Schedules"})}),Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)("img",{src:ne,style:{height:"40px"}})})]}),Object(G.jsx)(He.a,{sx:{py:2},children:Object(G.jsx)(vt.a,{title:"Delete Schedules",data:a,columns:[{title:"Report Type",field:"reportType"},{title:"Schdeuled on",field:"schedulingDate",type:"date"},{title:"Frequency",field:"frequency"},{title:"Duration",field:"duration"}],options:{selection:!0,headerStyle:{backgroundColor:"#1e90ff",color:"#FFF"}},onSelectionChange:function(e){l(e)}})}),Object(G.jsx)(He.a,{sx:{py:2,alignItems:"center",display:"flex",flexDirection:"column"},children:Object(G.jsxs)(Me.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",spacing:2,children:[Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(oe.a,{color:"warning",onClick:function(){if(i.length<1)ye(!0);else{var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({selected_rows:i})};fetch("".concat(Te,"/report/get-schedule/"),e).then(d.push("/"))}},children:"Delete"})}),Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(oe.a,{color:"primary",onClick:function(){x(!1),b(!1)},children:"New Schedule"})}),Object(G.jsx)(Me.a,{item:!0,children:Object(G.jsx)(oe.a,{color:"primary",onClick:function(){1==i.length?(function(){if(i.length<1)return C("daily"),K(1),D("day"),Z(1),y("energyReport"),be(""),re("12:00"),de(""),A([]),q(O),void U([]);var e=i[0],t="",a=e.reportType;"Raw Report"===a&&(t="rawData"),"Energy Report"===a&&(t="energyReport"),"Historical Data Model"===a&&(t="historyReport");var n=e.frequency,r="",c=1;if("daily"==n)r="daily",c=1;else{var s=n.split(" ");c=parseInt(s[1]);var o=s[2];"month"==o||"months"==o?r="monthly":"week"!=o&&"weeks"!=o||(r="weekly")}var l=e.duration.split(" "),d=parseInt(l[0]),u=l[1],j="";"day"===u?j="day":"month"==u||"months"==u?j="month":"week"!=u&&"weeks"!=u||(j="week");var h=e.day,b=e.date,p=e.time.slice(0,5),m=e.recipient,O=e.selected_rows,x=e.id;C(r),K(c),D(j),Z(d),y(t),be(b),re(p),de(h),A(O),q(O),U(m),xe(x),console.log(P)}(),x(!0),b(!1)):Ce(!0)},children:"Modify"})})]})})]})})," ",Object(G.jsx)(Ct.a,{open:ve,autoHideDuration:5e3,onClose:Ee,children:Object(G.jsx)(Pt,{onClose:Ee,severity:"error",children:"Select atleast one row for deleting"})}),Object(G.jsx)(Ct.a,{open:_e,autoHideDuration:5e3,onClose:Re,children:Object(G.jsx)(Pt,{onClose:Re,severity:"error",children:"You can modify exacly one row at a time"})})]})}):Object(G.jsx)(Nt,{report:v,freq:_,schedule:R,freqNum:Y,scheduleNum:Q,day:le,date:he,time:ae,highlightedRecipient:B,highlightedEnergyRows:P,highlightedRawHistoricalReportRows:W,isModified:O,scheduleId:Oe,selectedScheduleRows:i})},It=a(834),Ft=a(137);Ft.defaults.global.tooltips.enabled=!1,Ft.defaults.global.legend.position="bottom";var Wt=function(e){var t=e.label,a=e.data;return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Ft.Bar,{data:{labels:t,datasets:[{label:"ALARM FREQUENCY",data:a,backgroundColor:"rgb(230,126,0)",borderColor:"rgb(230,126,0)",borderWidth:1}]},height:250,width:300,options:{maintainAspectRatio:!1,legend:{labels:{fontSize:10}},scales:{xAxes:[{barPercentage:.3}],yAxes:[{ticks:{beginAtZero:!0}}]}}})})};Ft.defaults.global.tooltips.enabled=!1,Ft.defaults.global.legend.position="bottom";var qt=function(e){var t=e.label,a=e.data;return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Ft.Pie,{data:{labels:t,datasets:[{label:"# of votes",data:a,backgroundColor:["rgb(255, 99, 132)","rgb(54, 162, 235)","rgb(255, 205, 86)","rgb(0,128,0)","rgb(0,0,128)"],borderColor:"white",borderWidth:2}]},height:180,width:200,options:{tooltips:!1,maintainAspectRatio:!1,legend:{position:"right",labels:{fontSize:10}},pieceLabel:{render:"percentage",fontColor:"white",fontSize:14}}})})},Lt=a(836),Ht=a(846),Mt=a(856),Bt=a(506),Ut=a.n(Bt),Vt=function(e){var t=Object(n.useState)(!0),a=Object(te.a)(t,2),r=a[0],c=a[1];return Object(G.jsx)(G.Fragment,{children:Object(G.jsx)(Mt.a,{in:r,children:Object(G.jsx)(Lt.a,{action:Object(G.jsx)(Ht.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){c(!1)},children:Object(G.jsx)(Ut.a,{fontSize:"inherit"})}),sx:{height:43},severity:e.severity,children:e.value})})})},zt=function(){var e=Object(n.useState)({label:[],value:[]}),t=Object(te.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({label:[],value:[]}),s=Object(te.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)({label:[],value:[]}),d=Object(te.a)(l,2),u=d[0],j=d[1],h=Object(n.useState)(5),b=Object(te.a)(h,2),p=b[0],m=b[1],O=Object(n.useState)(5),f=Object(te.a)(O,2),g=f[0],v=f[1],y=Object(n.useState)({From:new Date("2022-02-04T16:40:00"),To:new Date("2022-02-04T16:40:00")}),w=Object(te.a)(y,2),S=w[0],_=w[1],C=function(e){var t=e.target.value;_(Object(x.a)(Object(x.a)({},S),{},Object(ee.a)({},e.target.name,t)))},T=function(){var e=Object(W.a)(L.a.mark((function e(){var t,a,n,c,s,i,l,d,u,h,b,p,O,x,f,g,y,w,_,C;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g=function(e,t){for(var a=[],n=0;n<e.length;n++)a.push(e[n]+" ("+t[n].toString()+" %)");return a},f=function(e){var t=0;return e.forEach((function(e){t+=e})),e.map((function(e){return function(e){var t=Number((100*Math.abs(e)).toPrecision(15));return Math.round(t)/100*Math.sign(e)}(e/t*100)}))},t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start_date:Et(S.From).format("YYYY-MM-DD HH:mm"),end_date:Et(S.To).format("YYYY-MM-DD HH:mm")})},a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start:Et(S.From).format("YYYY-MM-DD"),end:Et(S.To).format("YYYY-MM-DD")})},e.next=6,fetch("http://127.0.0.1:5000/top-alarm-equipments",t);case 6:return n=e.sent,e.next=9,fetch("http://127.0.0.1:5000/top-frequent-alarms",t);case 9:return c=e.sent,e.next=12,fetch("http://127.0.0.1:5000/alarm-frequency",a);case 12:return s=e.sent,e.next=15,n.json();case 15:return i=e.sent,e.next=18,c.json();case 18:return l=e.sent,e.next=21,s.json();case 21:d=e.sent,u=i.result.map((function(e){return e.id})),h=i.result.map((function(e){return e.tag})),b=l.result.map((function(e){return e.id})),p=l.result.map((function(e){return e.tag})),O=d.result.map((function(e){return e.count})),x=d.result.map((function(e){return Et(new Date(e.tag)).format("YYYY-MM-DD")})),y=f(u),w=f(b),_=g(h,y),C=g(p,w),(new Date(S.To).getTime()-new Date(S.From).getTime())/864e5<100?(r({label:_,value:u}),o({label:C,value:b}),j({label:x,value:O}),m(_.length),v(_.length)):(r({label:[],value:[]}),o({label:[],value:[]}),j({label:[],value:[]}),m(_.length),v(_.length));case 33:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){T()}),[S.From,S.To]),Object(G.jsx)(G.Fragment,{children:Object(G.jsxs)("div",{className:"container-fluid",children:[Object(G.jsxs)("div",{className:"d-flex justify-content-md-around align-content-center mt-2",children:[Object(G.jsx)("div",{children:Object(G.jsxs)("h4",{className:"text-center  text-primary",children:[" ","ALARM ANALYSIS DASHBOARD"]})}),Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"",children:[Object(G.jsx)(It.a,{id:"Date1",name:"From",size:"small",label:"From Date",type:"datetime-local",value:S.From,variant:"outlined",onChange:C,InputLabelProps:{shrink:!0}}),Object(G.jsx)(It.a,{id:"Date2",name:"To",size:"small",label:"End Date",type:"datetime-local",value:S.To,variant:"outlined",onChange:C,InputLabelProps:{shrink:!0}}),(new Date(S.To).getTime()-new Date(S.From).getTime())/864e5>100?Object(G.jsx)(Vt,{severity:"warning",value:"You can select max 100 days"}):null]})})]}),Object(G.jsxs)("div",{className:"container border border-dark my-2",children:[Object(G.jsxs)("div",{className:"row mt-2",children:[Object(G.jsxs)("div",{className:"col-md-6",children:[Object(G.jsxs)("p",{className:"text-center  text-primary",children:["Most Frequent Alarm in Top ",g," Equipments"]}),Object(G.jsx)("div",{className:"border border-dark p-2",children:Object(G.jsx)(qt,{label:a.label,data:a.value})})]}),Object(G.jsxs)("div",{className:"col-md-6",children:[Object(G.jsxs)("p",{className:"text-center  text-primary",children:["Most Frequently Top ",p," Alarms"]}),Object(G.jsx)("div",{className:"border border-dark p-2",children:Object(G.jsx)(qt,{label:i.label,data:i.value})})]})]}),Object(G.jsx)("div",{className:"row mt-2",children:Object(G.jsx)("div",{className:"col-md-12",children:Object(G.jsx)("div",{className:"border border-dark",children:Object(G.jsx)(Wt,{label:u.label,data:u.value})})})})]})]})})},Yt=a(850),Kt=a(853),Jt=a(96),Gt=a(847),Xt=a(849),Qt=a(854),Zt=a(852),$t=a(848),ea=a(855),ta=a(835),aa=a(851),na=a(845),ra=a(356),ca=a.n(ra),sa=a(358),ia=a.n(sa),oa=a(357),la=a.n(oa),da=a(355),ua=a.n(da),ja=a(843),ha=a(839),ba=a(833);function pa(e){var t=Object(Jt.a)(),a=e.count,n=e.page,r=e.rowsPerPage,c=e.onPageChange;return Object(G.jsxs)(Gt.a,{sx:{flexShrink:0,ml:2.5},children:[Object(G.jsx)(Ht.a,{onClick:function(e){c(e,0)},disabled:0===n,"aria-label":"first page",children:"rtl"===t.direction?Object(G.jsx)(ua.a,{}):Object(G.jsx)(ca.a,{})}),Object(G.jsx)(Ht.a,{onClick:function(e){c(e,n-1)},disabled:0===n,"aria-label":"previous page",children:"rtl"===t.direction?Object(G.jsx)(la.a,{}):Object(G.jsx)(ia.a,{})}),Object(G.jsx)(Ht.a,{onClick:function(e){c(e,n+1)},disabled:n>=Math.ceil(a/r)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(G.jsx)(ia.a,{}):Object(G.jsx)(la.a,{})}),Object(G.jsx)(Ht.a,{onClick:function(e){c(e,Math.max(0,Math.ceil(a/r)-1))},disabled:n>=Math.ceil(a/r)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(G.jsx)(ca.a,{}):Object(G.jsx)(ua.a,{})})]})}var ma={};var Oa=function(){var e,t,a=Object(n.useState)([]),r=Object(te.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)([]),o=Object(te.a)(i,2),l=o[0],d=o[1],u=Object(n.useState)(""),j=Object(te.a)(u,2),h=j[0],b=j[1],p=Object(n.useState)(""),m=Object(te.a)(p,2),O=m[0],x=(m[1],Object(n.useState)("")),f=Object(te.a)(x,2),g=f[0],v=(f[1],Object(n.useState)(null)),y=Object(te.a)(v,2),w=y[0],S=y[1],_=Object(n.useState)(new Date),C=Object(te.a)(_,2),T=C[0],E=C[1],R=Object(n.useState)(new Date),D=Object(te.a)(R,2),k=D[0],N=D[1],P=Object(n.useState)(0),A=Object(te.a)(P,2),I=A[0],F=A[1],q=Object(n.useState)(5),H=Object(te.a)(q,2),M=H[0],B=H[1],U=I>0?Math.max(0,(1+I)*M-c.length):0,V=function(){var e=Object(W.a)(L.a.mark((function e(){var t,a,n,r,c,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Date(document.getElementById("Date1").value),a=new Date(document.getElementById("Date2").value),"http://127.0.0.1:8080/alarm-history-data",e.next=5,fetch("http://127.0.0.1:8080/alarm-history-data");case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,c=r.result,i=c.filter((function(e){return t<=new Date(e.Date_time)&&new Date(e.Date_time)<=a})),s(i),d(i);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=function(e,t){return e.map((function(e){return e[t]})).map((function(e,t,a){return a.indexOf(e)===t&&t})).filter((function(t){return e[t]})).map((function(t){return e[t]}))},Y=(t="Date_time",(e=l).map((function(e){return e[t]})).map((function(e){return e.split(" ")[0]})).map((function(e,t,a){return a.indexOf(e)===t&&t})).filter((function(t){return e[t]})).map((function(t){return e[t]}))),K=z(l,"Equipment"),J=z(l,"Event"),X=function(e){ma[e.target.id]=e.target.value},Q=function(){var e=Object(W.a)(L.a.mark((function e(){var t,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ma)},e.next=3,fetch("http://127.0.0.1:5050/alarm-resolution",t);case 3:a=e.sent,console.log(a),a&&(S(a),setTimeout((function(){S(null)}),2e3));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){V()}),[T,k]),Object(G.jsxs)(G.Fragment,{children:[Object(G.jsx)("div",{className:"my-4",children:Object(G.jsxs)("div",{className:"d-flex justify-content-md-around align-content-center",children:[Object(G.jsxs)("div",{children:[Object(G.jsxs)(ja.a,{variant:"outlined",sx:{color:"Blue",backgroundColor:"#D1EBFF",boxShadow:"rgba(0, 0, 0, 0.15) 1.95px 1.95px 2.6px"},onClick:Q,children:[" ","\xa0Save\xa0"]}),w?Object(G.jsx)(Vt,{severity:"success",value:"Data is saved in Postgresql"}):null]}),Object(G.jsx)("div",{children:Object(G.jsx)("h3",{className:"text-center  text-primary",children:" ALARM HISTORY"})}),Object(G.jsx)("div",{children:Object(G.jsxs)("div",{className:"",children:[Object(G.jsx)(It.a,{id:"Date1",name:"From",size:"small",label:"From Date",type:"datetime-local",value:T,variant:"outlined",onChange:function(e){return E(e.target.value)},InputLabelProps:{shrink:!0}}),Object(G.jsx)(It.a,{id:"Date2",name:"To",size:"small",label:"End Date",type:"datetime-local",value:k,variant:"outlined",onChange:function(e){return N(e.target.value)},InputLabelProps:{shrink:!0}})]})})]})}),Object(G.jsx)("div",{className:"container mb-5",children:Object(G.jsx)($t.a,{component:na.a,children:Object(G.jsxs)(Xt.a,{sx:{minWidth:650},"aria-label":"custom pagination table",children:[Object(G.jsx)(Yt.a,{children:Object(G.jsxs)(aa.a,{sx:{backgroundColor:" #007FFF"},children:[Object(G.jsxs)(Zt.a,{children:[Object(G.jsx)(Kt.a,{variant:"button",style:{color:"white",fontWeight:700,fontSize:15},gutterBottom:!0,children:"Date/Time \xa0"}),Object(G.jsxs)(ba.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,label:"Date/Time",onChange:function(e){if(b(e.target.value),"All"===e.target.value||""===e.target.value)s(l);else{var t=l.filter((function(t){return t.Date_time.split(" ")[0]===e.target.value.split(" ")[0]}));s(t)}},style:{height:30,color:"white",border:"1px solid white"},children:[Object(G.jsx)(ha.a,{value:"All",children:"All"}),Y.map((function(e){return Object(G.jsx)(ha.a,{value:e.Date_time,children:e.Date_time.split(" ")[0]},e.id)}))]})]}),Object(G.jsxs)(Zt.a,{children:[Object(G.jsx)(Kt.a,{variant:"button",style:{color:"white",fontWeight:700,fontSize:15},gutterBottom:!0,children:"Equipments \xa0"}),Object(G.jsxs)(ba.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Date/Time",onChange:function(e){var t;if(t="All"===h||""===h?l:l.filter((function(e){return e.Date_time.split(" ")[0]===h.split(" ")[0]})),"All"===e.target.value||""===e.target.value)s(t);else{var a=t.filter((function(t){return t.Equipment===e.target.value}));s(a)}},style:{height:30,color:"white",border:"1px solid white"},children:[" ",Object(G.jsx)(ha.a,{value:"All",children:"All"}),K.map((function(e){return Object(G.jsx)(ha.a,{value:e.Equipment,children:e.Equipment},e.id)}))]})]}),Object(G.jsxs)(Zt.a,{children:[Object(G.jsx)(Kt.a,{variant:"button",style:{color:"white",fontWeight:700,fontSize:15},gutterBottom:!0,children:"Event \xa0"}),Object(G.jsxs)(ba.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,label:"Events",onChange:function(e){var t,a;if(t="All"===h||""===h?l:l.filter((function(e){return e.Date_time.split(" ")[0]===h.split(" ")[0]})),a="All"===O||""===O?t:t.filter((function(e){return e.Equipment===O})),"All"===e.target.value||""===e.target.value){s(a)}else{var n=a.filter((function(t){return t.Event===e.target.value}));s(n)}},style:{height:30,color:"white",border:"1px solid white"},children:[Object(G.jsx)(ha.a,{value:"All",children:"All"}),J.map((function(e){return Object(G.jsx)(ha.a,{value:e.Event,children:e.Event},e.id)}))]})]}),Object(G.jsx)(Zt.a,{style:{color:"white",fontWeight:700,fontSize:15},children:"RESOLUTION\xa0"})]})}),Object(G.jsxs)(Qt.a,{children:[(M>0?c.slice(I*M,I*M+M):c).map((function(e){return Object(G.jsxs)(aa.a,{children:[Object(G.jsx)(Zt.a,{component:"th",scope:"row",children:e.Date_time}),Object(G.jsx)(Zt.a,{children:e.Equipment}),Object(G.jsx)(Zt.a,{children:e.Event}),Object(G.jsx)(Zt.a,{children:Object(G.jsx)(It.a,{style:{width:"100%"},id:e.id.toString(),name:e.id.toString(),onChange:X,defaultValue:e.Resolution,variant:"standard",size:"small"})})]},e.id)})),U>0&&Object(G.jsx)(aa.a,{style:{height:53*U},children:Object(G.jsx)(Zt.a,{colSpan:6})})]}),Object(G.jsx)(ea.a,{children:Object(G.jsx)(aa.a,{children:Object(G.jsx)(ta.a,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:c.length,rowsPerPage:M,page:I,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,t){F(t)},onRowsPerPageChange:function(e){B(parseInt(e.target.value,10)),F(0)},ActionsComponent:pa})})})]})})})]})};a(735);a(537).config(),j.a.defaults.xsrfHeaderName="X-CSRFTOKEN",j.a.defaults.xsrfCookieName="csrftoken";var xa=d()();s.a.render(Object(G.jsx)(i.a,{store:Y,children:Object(G.jsx)(o.c,{history:xa,children:Object(G.jsxs)("div",{children:[Object(G.jsx)(he,{}),Object(G.jsxs)(o.d,{children:[Object(G.jsx)(Q,{exact:!0,path:"/",component:Re}),Object(G.jsx)(Q,{exact:!0,path:"/home",component:Re}),Object(G.jsx)(Z,{exact:!0,path:"/login",component:Je}),Object(G.jsx)(Q,{exact:!0,path:"/register",component:nt}),Object(G.jsx)(Z,{exact:!0,path:"/resetpassword",component:ht}),Object(G.jsx)(o.b,{exact:!0,path:"/signout",render:function(){return Object(G.jsx)(o.a,{to:"/login"})}}),Object(G.jsx)(o.b,{exact:!0,path:"/changepassword",component:ot}),Object(G.jsx)(o.b,{path:"/report",component:St}),Object(G.jsx)(o.b,{path:"/manage-schedule",component:At}),Object(G.jsx)(o.b,{path:"/alarm-graph",component:zt}),Object(G.jsx)(o.b,{path:"/alarm-history",component:Oa})]})]})})}),document.getElementById("root"))}},[[739,1,2]]]);
//# sourceMappingURL=main.2d708c13.chunk.js.map